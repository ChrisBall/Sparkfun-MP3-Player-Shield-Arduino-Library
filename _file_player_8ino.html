<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>SFEMP3Shield: SFEMP3Shield/Examples/FilePlayer/FilePlayer.ino File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="MusicIcon.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">SFEMP3Shield
   &#160;<span id="projectnumber">1.02.09</span>
   </div>
   <div id="projectbrief">Arduino Library for VS10xx shield</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_76a93a06076240a30d1604a1db8f3fb7.html">SFEMP3Shield</a></li><li class="navelem"><a class="el" href="dir_d71b40c820f4fd0e656e16a655c9127b.html">Examples</a></li><li class="navelem"><a class="el" href="dir_6e519b8c01d851793b407715c1bf167c.html">FilePlayer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">FilePlayer.ino File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Example sketch of using the MP3Shield Arduino driver, with flexible list of files and formats.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;SPI.h&gt;</code><br/>
<code>#include &lt;SdFat.h&gt;</code><br/>
<code>#include &lt;SdFatUtil.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="_s_f_e_m_p3_shield_8h_source.html">SFEMP3Shield.h</a>&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for FilePlayer.ino:</div>
<div class="dyncontent">
<div class="center"><img src="_file_player_8ino__incl.png" border="0" usemap="#_s_f_e_m_p3_shield_2_examples_2_file_player_2_file_player_8ino" alt=""/></div>
<map name="_s_f_e_m_p3_shield_2_examples_2_file_player_2_file_player_8ino" id="_s_f_e_m_p3_shield_2_examples_2_file_player_2_file_player_8ino">
<area shape="rect" id="node5" href="_s_f_e_m_p3_shield_8h.html" title="Header file for the SFEMP3Shield library. " alt="" coords="159,96,281,123"/><area shape="rect" id="node6" href="_s_f_e_m_p3_shield_config_8h.html" title="Hardware dependent configuration definitions. " alt="" coords="294,171,452,197"/></map>
</div>
</div>
<p><a href="_file_player_8ino_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4fc01d736fe50cf5b977f755b675f11d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_player_8ino.html#a4fc01d736fe50cf5b977f755b675f11d">setup</a> ()</td></tr>
<tr class="separator:a4fc01d736fe50cf5b977f755b675f11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe461d27b9c48d5921c00d521181f12f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_player_8ino.html#afe461d27b9c48d5921c00d521181f12f">loop</a> ()</td></tr>
<tr class="memdesc:afe461d27b9c48d5921c00d521181f12f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main Loop the Arduino Chip.  <a href="#afe461d27b9c48d5921c00d521181f12f">More...</a><br/></td></tr>
<tr class="separator:afe461d27b9c48d5921c00d521181f12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cf3f5b5058bbd17aa0201c371163fb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_player_8ino.html#a5cf3f5b5058bbd17aa0201c371163fb0">parse_menu</a> (byte key_command)</td></tr>
<tr class="memdesc:a5cf3f5b5058bbd17aa0201c371163fb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode the Menu.  <a href="#a5cf3f5b5058bbd17aa0201c371163fb0">More...</a><br/></td></tr>
<tr class="separator:a5cf3f5b5058bbd17aa0201c371163fb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97ee70a8770dc30d06c744b24eb2fcfc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_player_8ino.html#a97ee70a8770dc30d06c744b24eb2fcfc">help</a> ()</td></tr>
<tr class="memdesc:a97ee70a8770dc30d06c744b24eb2fcfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print Help Menu.  <a href="#a97ee70a8770dc30d06c744b24eb2fcfc">More...</a><br/></td></tr>
<tr class="separator:a97ee70a8770dc30d06c744b24eb2fcfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b27482093b235d665dda63af14295b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_player_8ino.html#a0b27482093b235d665dda63af14295b0">SerialPrintPaddedNumber</a> (int16_t value, int8_t digits)</td></tr>
<tr class="separator:a0b27482093b235d665dda63af14295b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a15e6b7e1f0fb2d1e0fe1654721bb5302"><td class="memItemLeft" align="right" valign="top">SdFat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_player_8ino.html#a15e6b7e1f0fb2d1e0fe1654721bb5302">sd</a></td></tr>
<tr class="memdesc:a15e6b7e1f0fb2d1e0fe1654721bb5302"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object instancing the SdFat library.  <a href="#a15e6b7e1f0fb2d1e0fe1654721bb5302">More...</a><br/></td></tr>
<tr class="separator:a15e6b7e1f0fb2d1e0fe1654721bb5302"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3c96aa4b0f9d056464804cf754a889e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_s_f_e_m_p3_shield.html">SFEMP3Shield</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_player_8ino.html#ab3c96aa4b0f9d056464804cf754a889e">MP3player</a></td></tr>
<tr class="memdesc:ab3c96aa4b0f9d056464804cf754a889e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object instancing the <a class="el" href="class_s_f_e_m_p3_shield.html" title="Interface Driver to the VS10xx chip on the SPI. ">SFEMP3Shield</a> library.  <a href="#ab3c96aa4b0f9d056464804cf754a889e">More...</a><br/></td></tr>
<tr class="separator:ab3c96aa4b0f9d056464804cf754a889e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa76e74b1a956731c79fb1e4e89706c6c"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_player_8ino.html#aa76e74b1a956731c79fb1e4e89706c6c">last_ms_char</a></td></tr>
<tr class="separator:aa76e74b1a956731c79fb1e4e89706c6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e5771e4897d02057750adf87ba32a97"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_player_8ino.html#a9e5771e4897d02057750adf87ba32a97">buffer_pos</a></td></tr>
<tr class="separator:a9e5771e4897d02057750adf87ba32a97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b92294b4e82a7d875de15a7c2f804b3"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_player_8ino.html#a4b92294b4e82a7d875de15a7c2f804b3">buffer</a> [6]</td></tr>
<tr class="memdesc:a4b92294b4e82a7d875de15a7c2f804b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the Arduino Chip's feature for our use.  <a href="#a4b92294b4e82a7d875de15a7c2f804b3">More...</a><br/></td></tr>
<tr class="separator:a4b92294b4e82a7d875de15a7c2f804b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Example sketch of using the MP3Shield Arduino driver, with flexible list of files and formats. </p>
<dl class="section remark"><dt>Remarks</dt><dd>comments are implemented with Doxygen Markdown format</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Bill Porter </dd>
<dd>
Michael P. Flaga</dd></dl>
<p>This sketch listens for commands from a serial terminal (such as the Serial Monitor in the Arduino IDE). Listening for either a single character menu commands or an numeric strings of an index. Pointing to a music file, found in the root of the SdCard, to be played. A list of index's and corresponding files in the root can be listed out using the 'l' (little L) command.</p>
<p>This sketch allows the various file formats to be played: mp3, aac, wma, wav, fla &amp; mid.</p>
<p>This sketch behaves nearly identical to <a class="el" href="_m_p3_shield___library___demo_8ino.html" title="Example sketch of using the MP3Shield Arduino driver, demonstrating all methods and functions...">MP3Shield_Library_Demo.ino</a>, but has extra complicated <a class="el" href="_file_player_8ino.html#afe461d27b9c48d5921c00d521181f12f" title="Main Loop the Arduino Chip. ">loop()</a> as to recieve string of characters to create the file index. As the Serial Monitor is typically default with no CR or LF, this sketch uses intercharacter time out as to determine when a full string has has been entered to be processed. </p>

<p>Definition in file <a class="el" href="_file_player_8ino_source.html">FilePlayer.ino</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a97ee70a8770dc30d06c744b24eb2fcfc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void help </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print Help Menu. </p>
<p>Prints a full menu of the commands available along with descriptions. </p>

<p>Definition at line <a class="el" href="_file_player_8ino_source.html#l00588">588</a> of file <a class="el" href="_file_player_8ino_source.html">FilePlayer.ino</a>.</p>

</div>
</div>
<a class="anchor" id="afe461d27b9c48d5921c00d521181f12f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main Loop the Arduino Chip. </p>
<p>This is called at the end of Arduino kernel's main loop before recycling. And is where the user's serial input of bytes are read and analyzed by parsed_menu.</p>
<p>Additionally, if the means of refilling is not interrupt based then the MP3player object is serviced with the availaible function.</p>
<dl class="section note"><dt>Note</dt><dd>Actual examples of the libraries public functions are implemented in the <a class="el" href="_file_player_8ino.html#a5cf3f5b5058bbd17aa0201c371163fb0" title="Decode the Menu. ">parse_menu()</a> function. </dd></dl>

<p>Definition at line <a class="el" href="_file_player_8ino_source.html#l00132">132</a> of file <a class="el" href="_file_player_8ino_source.html">FilePlayer.ino</a>.</p>

</div>
</div>
<a class="anchor" id="a5cf3f5b5058bbd17aa0201c371163fb0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void parse_menu </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>key_command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decode the Menu. </p>
<p>Parses through the characters of the users input, executing corresponding MP3player library functions and features then displaying a brief menu and prompting for next input command. </p>

<p>Definition at line <a class="el" href="_file_player_8ino_source.html#l00234">234</a> of file <a class="el" href="_file_player_8ino_source.html">FilePlayer.ino</a>.</p>

</div>
</div>
<a class="anchor" id="a0b27482093b235d665dda63af14295b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SerialPrintPaddedNumber </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>digits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_file_player_8ino_source.html#l00620">620</a> of file <a class="el" href="_file_player_8ino_source.html">FilePlayer.ino</a>.</p>

</div>
</div>
<a class="anchor" id="a4fc01d736fe50cf5b977f755b675f11d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_file_player_8ino_source.html#l00074">74</a> of file <a class="el" href="_file_player_8ino_source.html">FilePlayer.ino</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a4b92294b4e82a7d875de15a7c2f804b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char buffer[6]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup the Arduino Chip's feature for our use. </p>
<p>After Arduino's kernel has booted initialize basic features for this application, such as Serial port and MP3player objects with .begin. Along with displaying the Help Menu.</p>
<dl class="section note"><dt>Note</dt><dd>returned Error codes are typically passed up from MP3player. Whicn in turns creates and initializes the SdCard objects.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="index.html#Error_Codes">Error Codes</a> </dd></dl>

<p>Definition at line <a class="el" href="_file_player_8ino_source.html#l00072">72</a> of file <a class="el" href="_file_player_8ino_source.html">FilePlayer.ino</a>.</p>

</div>
</div>
<a class="anchor" id="a9e5771e4897d02057750adf87ba32a97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t buffer_pos</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_file_player_8ino_source.html#l00056">56</a> of file <a class="el" href="_file_player_8ino_source.html">FilePlayer.ino</a>.</p>

</div>
</div>
<a class="anchor" id="aa76e74b1a956731c79fb1e4e89706c6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t last_ms_char</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_file_player_8ino_source.html#l00055">55</a> of file <a class="el" href="_file_player_8ino_source.html">FilePlayer.ino</a>.</p>

</div>
</div>
<a class="anchor" id="ab3c96aa4b0f9d056464804cf754a889e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_s_f_e_m_p3_shield.html">SFEMP3Shield</a> MP3player</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Object instancing the <a class="el" href="class_s_f_e_m_p3_shield.html" title="Interface Driver to the VS10xx chip on the SPI. ">SFEMP3Shield</a> library. </p>
<p>principal object for handling all the attributes, members and functions for the library. </p>

<p>Definition at line <a class="el" href="_file_player_8ino_source.html#l00054">54</a> of file <a class="el" href="_file_player_8ino_source.html">FilePlayer.ino</a>.</p>

</div>
</div>
<a class="anchor" id="a15e6b7e1f0fb2d1e0fe1654721bb5302"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SdFat sd</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Object instancing the SdFat library. </p>
<p>SdFat sd;.</p>
<p>principal object for handling all SdCard functions. </p>

<p>Definition at line <a class="el" href="_file_player_8ino_source.html#l00047">47</a> of file <a class="el" href="_file_player_8ino_source.html">FilePlayer.ino</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Feb 6 2014 23:39:15 for SFEMP3Shield by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
